{"version":3,"sources":["userInterface/panels/SideNavPanel/SideNavPanel.module.scss","userInterface/panels/JsonConfigurator/JsonConfigurator.module.scss","userInterface/components/ConfigSelector/ConfigSelector.module.scss","userInterface/components/CommandItem/CommandItem.module.scss","userInterface/panels/EditorPanel/EditorPanel.module.scss","userInterface/components/TenantLogin/TenantLogin.module.scss","userInterface/panels/CommandPanel/CommandPanel.module.scss","userInterface/util/Interfaces/CommandEvent.ts","validator/interfaces/IValidationResult.ts","validator/enum/DataType.enum.ts","core/CogniteJsonEditor.ts","config/twinconfig.yaml","validator/nodes/BaseNode.ts","validator/enum/DataFormat.enum.ts","validator/nodes/MapNode.ts","validator/nodes/ArrayNode.ts","validator/nodes/BooleanNode.ts","validator/nodes/NumberNode.ts","validator/nodes/ObjectNode.ts","validator/nodes/StringNode.ts","validator/util/Parsers.ts","validator/util/NodeFactory.ts","validator/util/Helper.ts","validator/Validator.ts","constants.ts","core/CogniteJsonEditorOptions.ts","cdf/client.ts","core/DigitalTwinApi.ts","core/JsonConfigCommandCenter.ts","userInterface/util/enums/Modes.ts","userInterface/components/CommandItem/CommandItem.tsx","userInterface/panels/CommandPanel/CommandPanel.tsx","userInterface/components/ConfigSelector/ConfigSelector.tsx","userInterface/panels/SideNavPanel/SideNavPanel.tsx","assets/cognite.png","userInterface/components/JsonEditorContainer/JsonEditorContainer.tsx","userInterface/panels/EditorPanel/EditorPanel.tsx","userInterface/panels/JsonConfigurator/JsonConfigurator.tsx","userInterface/components/TenantLogin/TenantLogin.tsx","userInterface/App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","CommandEvent","ErrorType","DataType","CogniteJsonEditor","elm","options","json","JSONEditor","DataFormat","BaseNode","type","schema","data","isRequired","description","discriminator","example","_data","this","result","possibleTypeValues","Object","keys","mapping","entries","key","schemaPath","split","node","rootDataNode","length","propertyName","possibleValues","MapNode","sampleData","map","ArrayNode","array","minItems","maxItems","BooleanNode","boolean","NumberNode","number","minimum","maximum","ObjectNode","object","StringNode","string","enum","getPrimitiveObject","unspecified","undefined","ParseType","populateChildren","parentSchema","allOf","obj","dat","schema1","children","rowData","properties","schem","required","findIndex","s","additionalProperties","items","getNodeInstance","group","rootJsonNode","paths","resultNode","path","nextResultNodeTypeFromData","subTypeInData","values","error","InvalidPath","resultData","getJson","getPrimitiveValue","val","sampleVal","i","push","defaultGroup","allNodes","getNodeMeta","rootJson","getSample","sample","LOCALIZATION","RETRIEVE_CONFIGS_FAIL","UNTITLED","INCONSISTANT_VALUE","SAVE_TITLE","SAVE_CONTENT","SAVE_SUCCESS","SAVE_ERROR","SAVE_INVALID_FILE","UPLOAD_TITLE","UPLOAD_CONTENT","UPLOAD_SUCCESS","UPLOAD_ERROR","UPLOAD_INVALID_FILE","DELETE_TITLE","DELETE_CONTENT","DELETE_SUCCESS","DELETE_ERROR","DELETE_INVALID_FILE","REMOVE_ENABLED","REMOVE_DISABLED","REMOVE_INVALID_PATH","REMOVE_MANDATORY","REMOVE_MINIMUM_LENGTH","CogniteJsonEditorOptions","mode","modes","enableSort","enableTransform","indentation","escapeUnicode","onChange","JsonConfigCommandCenter","updateTitle","onError","err","message","onValidate","schemaMeta","validateFields","menuItems","currentJson","parentPath","pop","removePossibility","root","resultParent","slice","RequiredNode","subTree","forEach","step","MinLength","removeNode","item","text","click","submenu","createValidInsertMenu","title","className","filter","schemaMetaData","errors","missingRequiredFields","validatedKeys","Set","schemaType","discriminatorErrors","validateDiscriminator","concat","childKey","childValue","childPath","childMeta","isChildKeyRequired","hasKey","prototype","hasOwnProperty","call","add","childErrors","jsonChildKey","has","newPath","callNextIteration","mapChildKey","mapChild","valueErrors","validateValues","join","discriminatorType","discriminatorMeta","value","datatype","isOneOfPossibleValues","possibleVal","isNaN","Number","isBoolean","isString","validMenuItems","validInsertItems","getValidInsertItems","existingKeys","getPathObject","subItem","includes","dataType","res","desKey","templates","autocomplete","onCreateMenu","allTemplates","ele","extractField","template","field","subKey","subVal","trigger","getOptions","input","editor","Promise","resolve","reject","JSON","parse","getText","stringNode","Client","cogniteClient","sdk","CogniteClient","appId","DigitalTwinApi","jsonList","a","get","getBaseUrl","project","then","response","console","log","jsonConfigs","jsonConfigIdMap","Map","jsonConfig","jsonConfigId","id","set","saveJson","post","updateJson","configId","deleteJson","YAML","load","ymlFile","ymlJson","SwaggerParser","validate","api","rootSchema","components","schemas","childrenNodes","key1","key2","val2","window","apiInstance","editorInstance","setMode","currentJsonText","e","header","name","titleUpdateCallback","currentTitle","currentFileName","currentMode","getMode","loadJsonConfigs","onSaveAs","onUpdate","selectedJsonConfigId","onDelete","onDownload","stringify","fileName","blob","Blob","saveAs","Modes","CommandItem","props","styles","commandBtn","icon","size","onClick","confirm","Modal","isValidFileName","CommandPanel","useState","setTitle","classes","commandsContainer","leftPanel","checkedChildren","unCheckedChildren","checked","evt","paste","commandEvent","default","titlePanel","titleText","rightPanel","btn","ExclamationCircleOutlined","content","onOk","update","createdId","reloadJsonConfigs","success","catch","replace","extractErrorMessage","download","delete","ConfigSelector","jsonConfigMap","element","bordered","dataSource","renderItem","Item","jsonConfigItem","selected","onJsonConfigSelect","SideNavPanel","top","alt","src","logo","Text","strong","createNewBtn","createNew","jsonConfigContainer","JsonEditorContainer","jsonEditorElm","useRef","useEffect","current","createEditor","ref","EditorPanel","jsonView","errorMsg","JsonConfigurator","setJsonConfigMap","setSelectedJsonConfigId","setJsonConfig","onCommand","command","onModeChange","configurator","sideNavPanel","fullEditor","editorCommandContainer","TenantLogin","authOptions","apiKey","oauthToken","isLoginPopupWindow","loginPopupHandler","onFinish","cdfEnv","setBaseUrl","token","localStorage","getItem","loginWithOAuth","accessToken","onAuthenticate","POPUP","onTokens","setItem","authenticate","login","status","user","onLogin","signedIn","loginContainer","client","onTenantSelected","advancedOptions","cdfEnvironment","onInvalidTenant","App","auth","setSignIn","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc7a3165.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"jsonConfigContainer\":\"SideNavPanel_jsonConfigContainer__1nen9\",\"title\":\"SideNavPanel_title__2iTKk\",\"top\":\"SideNavPanel_top__3ZWeX\",\"logo\":\"SideNavPanel_logo__3VR7R\",\"createNewBtn\":\"SideNavPanel_createNewBtn__3KoZ_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"configurator\":\"JsonConfigurator_configurator__2JaFZ\",\"sideNavPanel\":\"JsonConfigurator_sideNavPanel__2qK4x\",\"fullEditor\":\"JsonConfigurator_fullEditor__3mrdP\",\"editorCommandContainer\":\"JsonConfigurator_editorCommandContainer__1nIiv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"jsonConfigItem\":\"ConfigSelector_jsonConfigItem__2B8Ai\",\"selected\":\"ConfigSelector_selected__nTCcC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commandBtn\":\"CommandItem_commandBtn__3pKOQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"jsonView\":\"EditorPanel_jsonView__2OX6i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginContainer\":\"TenantLogin_loginContainer__-fX61\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commandsContainer\":\"CommandPanel_commandsContainer__WRTsV\",\"leftPanel\":\"CommandPanel_leftPanel__16CNm\",\"titlePanel\":\"CommandPanel_titlePanel__hFgF6\",\"rightPanel\":\"CommandPanel_rightPanel__fPH5s\",\"titleText\":\"CommandPanel_titleText__2S8T_\"};","export enum CommandEvent {\r\n    mode = \"mode\",\r\n    createNew = \"createNew\",\r\n    saveAs = \"saveAs\",\r\n    update = \"update\",\r\n    delete = \"delete\",\r\n    download = \"download\"\r\n}\r\n","import { BaseNode } from \"../nodes/BaseNode\";\r\n\r\nexport enum ErrorType {\r\n    InvalidPath = 'InvalidPath',\r\n    RequiredNode = 'RequiredNode',\r\n    MinLength = 'MinLength'\r\n}\r\n\r\nexport interface IValidationError {\r\n    type: ErrorType;\r\n    text?: string;\r\n}\r\n\r\nexport interface IValidationResult {\r\n    group: string;\r\n    resultNode?: BaseNode | null;           // Affected node with meta data\r\n    resultData?: Record<string, unknown>    // Full result json after changes are affected\r\n    error?: IValidationError;               // If error occured\r\n}","export enum DataType {\r\n    unspecified = \"unspecified\",\r\n    string = \"string\",\r\n    number = \"number\",\r\n    boolean = \"boolean\",\r\n    object = \"object\",\r\n    array = \"array\",\r\n    map = \"map\"\r\n  }","import JSONEditor from \"jsoneditor\";\r\nimport { CogniteJsonEditorOptions } from \"./CogniteJsonEditorOptions\";\r\n\r\nexport class CogniteJsonEditor extends JSONEditor {\r\n\r\n    constructor(elm: HTMLElement, options: CogniteJsonEditorOptions, json?: any) {\r\n        super(elm, options.options, json);\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/twinconfig.69952d13.yaml\";","import { DataType } from \"../enum/DataType.enum\";\r\nimport { ISchemaNode } from \"../interfaces/ISchemaNode\";\r\nimport { rootDataNode } from \"../Validator\";\r\n\r\nexport type BaseNodes = { [key: string]: BaseNode };\r\nexport type IData =\r\n  | BaseNodes\r\n  | BaseNode[]\r\n  | string\r\n  | number\r\n  | boolean\r\n  | undefined;\r\nexport type Discriminator = {\r\n  mapping: { [key: string]: string };\r\n  propertyName: string;\r\n};\r\n\r\nexport class BaseNode {\r\n  public type?: DataType;\r\n  public description?: string;\r\n  public isRequired?: boolean;\r\n  public discriminator?: Discriminator;\r\n  public example: any;\r\n\r\n  protected _data: IData;\r\n\r\n  constructor(\r\n    type: DataType,\r\n    schema: ISchemaNode,\r\n    data: IData,\r\n    isRequired: boolean\r\n  ) {\r\n    this.type = type;\r\n    this.description = schema.description;\r\n    this.discriminator = schema.discriminator;\r\n\r\n    this._data = data;\r\n    this.isRequired = isRequired;\r\n    this.example = schema.example;\r\n  }\r\n\r\n  public get data(): IData {\r\n    if (this.discriminator) {\r\n      const result: BaseNodes = {};\r\n      const possibleTypeValues = Object.keys(this.discriminator.mapping);      \r\n\r\n      for (const [key, val] of Object.entries(this.discriminator.mapping)) {\r\n        const schemaPath = val.split(\"/\");\r\n        const node = rootDataNode[schemaPath[schemaPath.length - 1]];\r\n\r\n        if(node._data instanceof Object){\r\n          // TODO: avoid any type.\r\n          // TODO: create StringNode here.\r\n          (node._data as any)[this.discriminator.propertyName] = {\r\n            type: 'string',\r\n            data: key,\r\n            possibleValues: possibleTypeValues,\r\n            isRequired: true\r\n          };\r\n        }\r\n        result[key] = node;\r\n      }\r\n      return result;\r\n    } else {\r\n      return this._data;\r\n    }\r\n  }\r\n\r\n  public set data(data: IData) {\r\n    this._data = data;\r\n  }\r\n\r\n  public get rowData(): IData {\r\n    return this._data;\r\n  }\r\n}\r\n","export enum DataFormat {\r\n    unspecified = \"unspecified\",\r\n    int32 = \"int32\",\r\n    int64 = \"int64\",\r\n    float = \"float\",\r\n    double = \"double\",\r\n  }","import { DataType } from \"../enum/DataType.enum\";\r\nimport { ISchemaNode } from \"../interfaces/ISchemaNode\";\r\nimport { BaseNode, IData } from \"./BaseNode\";\r\n\r\nexport class MapNode extends BaseNode {\r\n    public sampleData: BaseNode;\r\n    \r\n    constructor(schema: ISchemaNode, data: IData, isRequired: boolean, sampleData: BaseNode){\r\n      super(DataType.map, schema, data, isRequired);\r\n      this.sampleData = sampleData;\r\n    }\r\n  }","import { DataType } from \"../enum/DataType.enum\";\r\nimport { ISchemaNode } from \"../interfaces/ISchemaNode\";\r\nimport { BaseNode, IData } from \"./BaseNode\";\r\n\r\nexport class ArrayNode extends BaseNode {\r\n  public minItems?: number | undefined;\r\n  public maxItems?: number | undefined;\r\n  public sampleData: BaseNode | undefined;\r\n\r\n  constructor(schema: ISchemaNode, data: IData, isRequired: boolean, sampleData?: BaseNode) {\r\n    super(DataType.array, schema, [], isRequired);\r\n    this.minItems = schema.minItems;\r\n    this.maxItems = schema.maxItems;\r\n    this._data = data;\r\n    this.sampleData = sampleData;\r\n  }\r\n}\r\n","import { DataType } from \"../enum/DataType.enum\";\r\nimport { ISchemaNode } from \"../interfaces/ISchemaNode\";\r\nimport { BaseNode, IData } from \"./BaseNode\";\r\n\r\nexport class BooleanNode extends BaseNode {\r\n    constructor(schema: ISchemaNode, data: IData, isRequired: boolean){\r\n      super(DataType.boolean, schema, data, isRequired);\r\n    }\r\n  }","import { DataType } from \"../enum/DataType.enum\";\r\nimport { ISchemaNode } from \"../interfaces/ISchemaNode\";\r\nimport { BaseNode, IData } from \"./BaseNode\";\r\n\r\nexport class NumberNode extends BaseNode {\r\n  public minimum: number | undefined;\r\n  public maximum: number | undefined;\r\n\r\n  constructor(schema: ISchemaNode, data: IData, isRequired: boolean) {\r\n    super(DataType.number, schema, data, isRequired);\r\n    this.minimum = schema.minimum;\r\n    this.maximum = schema.maximum;\r\n  }\r\n}\r\n","import { DataType } from \"../enum/DataType.enum\";\r\nimport { ISchemaNode } from \"../interfaces/ISchemaNode\";\r\nimport { BaseNode, IData } from \"./BaseNode\";\r\n\r\nexport class ObjectNode extends BaseNode {\r\n    constructor(schema: ISchemaNode, data: IData, isRequired: boolean){\r\n      super(DataType.object, schema, data, isRequired);\r\n    }\r\n  }","import { DataType } from \"../enum/DataType.enum\";\r\nimport { ISchemaNode } from \"../interfaces/ISchemaNode\";\r\nimport { BaseNode, IData } from \"./BaseNode\";\r\n\r\nexport class StringNode extends BaseNode {\r\n  public possibleValues: string[] | undefined;\r\n\r\n  constructor(schema: ISchemaNode, data: IData, isRequired: boolean) {\r\n    super(DataType.string, schema, data, isRequired);\r\n    if (schema.enum) {\r\n      this.possibleValues = schema.enum;\r\n    }\r\n  }\r\n}\r\n","import { DataFormat } from \"../enum/DataFormat.enum\";\r\nimport { DataType } from \"../enum/DataType.enum\";\r\n\r\nexport const ParseType = (type: string): DataType => {\r\n  switch (type) {\r\n    case \"string\":\r\n      return DataType.string;\r\n    case \"number\":\r\n    case \"integer\":\r\n      return DataType.number;\r\n    case \"object\":\r\n      return DataType.object;\r\n    case \"boolean\":\r\n      return DataType.boolean;\r\n    case \"array\":\r\n      return DataType.array;\r\n    default:\r\n      return DataType.unspecified;\r\n  }\r\n};\r\n\r\nexport const getDefaultPrimitiveVal = (type: string): any => {\r\n  switch (type) {\r\n    case \"string\":\r\n      return '';\r\n    case \"number\":\r\n    case \"integer\":\r\n      return 0;\r\n    case \"object\":\r\n      return {};\r\n    case \"boolean\":\r\n      return false;\r\n    case \"array\":\r\n      return [];\r\n    default:\r\n      return undefined;\r\n  }\r\n};\r\n\r\nexport const ParseFormat = (format: string): DataFormat => {\r\n  switch (format) {\r\n    case \"int32\":\r\n      return DataFormat.int32;\r\n    case \"int64\":\r\n      return DataFormat.int64;\r\n    case \"double\":\r\n      return DataFormat.double;\r\n    case \"float\":\r\n      return DataFormat.float;\r\n    default:\r\n      return DataFormat.unspecified;\r\n  }\r\n};\r\n","import { DataType } from \"../enum/DataType.enum\";\r\nimport { ISchemaNode } from \"../interfaces/ISchemaNode\";\r\nimport { MapNode } from \"../nodes/MapNode\";\r\nimport { ArrayNode } from \"../nodes/ArrayNode\";\r\nimport { BaseNode, BaseNodes } from \"../nodes/BaseNode\";\r\nimport { BooleanNode } from \"../nodes/BooleanNode\";\r\nimport { NumberNode } from \"../nodes/NumberNode\";\r\nimport { ObjectNode } from \"../nodes/ObjectNode\";\r\nimport { StringNode } from \"../nodes/StringNode\";\r\nimport { ParseType } from \"./Parsers\";\r\n\r\nconst getPrimitiveObject = (schema: ISchemaNode, isRequired: boolean) => {\r\n  if (!schema) {\r\n    return new BaseNode(\r\n      DataType.unspecified,\r\n      { type: DataType.unspecified },\r\n      undefined,\r\n      isRequired\r\n    );\r\n  }\r\n  switch (ParseType(schema.type)) {\r\n    case DataType.array:\r\n      return new ArrayNode(schema, [], isRequired);\r\n    case DataType.string:\r\n      return new StringNode(schema, \"\", isRequired);\r\n    case DataType.number:\r\n      return new NumberNode(schema, 0, isRequired);\r\n    case DataType.boolean:\r\n      return new BooleanNode(schema, false, isRequired);\r\n    case DataType.object:\r\n      return new ObjectNode(schema, {}, isRequired);\r\n    default:\r\n      return new BaseNode(DataType.unspecified, schema, [], isRequired);\r\n  }\r\n};\r\n\r\nexport const populateChildren = (\r\n  schema: ISchemaNode,\r\n  isRequired: boolean,\r\n  parentSchema: ISchemaNode\r\n): BaseNode => {\r\n  if (schema.allOf) {\r\n    const obj = new ObjectNode(schema, {}, isRequired);\r\n    let dat: any = {};\r\n    for (const schema1 of schema.allOf) {\r\n      const children = populateChildren(schema1, isRequired, schema);\r\n      if(children.rowData instanceof Object){\r\n        dat = { ...dat, ...children.rowData};\r\n      }\r\n    }\r\n    obj.data = dat;\r\n    return obj;\r\n  } else if (schema.properties) {\r\n    const obj = new ObjectNode(schema, {}, isRequired);\r\n    for (const [key, schem] of Object.entries(schema.properties)) {\r\n      const required = schema.required\r\n        ? schema.required.findIndex((s) => s === key) !== -1\r\n        : false;\r\n      // Since `{}` is passed as data for obj, type can be BaseNodes\r\n      (obj.rowData as BaseNodes)[key] = populateChildren(schem, required, schema);\r\n    }\r\n    return obj;\r\n  } else if (schema.additionalProperties) {\r\n    const sampleData = populateChildren(\r\n      schema.additionalProperties,\r\n      false,\r\n      schema\r\n    );\r\n    const obj = new MapNode(schema, {}, false, sampleData);\r\n    return obj;\r\n  } else if (schema.items) {\r\n    if (schema.items === parentSchema) {\r\n      const sampleData = new BaseNode(\r\n        DataType.unspecified,\r\n        { type: DataType.unspecified },\r\n        {},\r\n        isRequired\r\n      );\r\n      // TODO: fix circular issue here\r\n      const obj = new ArrayNode(\r\n        { type: DataType.array },\r\n        [],\r\n        isRequired,\r\n        sampleData\r\n      );\r\n      return obj;\r\n    } else {\r\n      const sampleData = populateChildren(schema.items, false, schema);\r\n      const obj = new ArrayNode(schema, [], isRequired, sampleData);\r\n      return obj;\r\n    }\r\n  } else {\r\n    return getPrimitiveObject(schema, isRequired);\r\n  }\r\n};\r\n","import { DataType } from \"../enum/DataType.enum\";\r\nimport { ErrorType, IValidationResult } from \"../interfaces/IValidationResult\";\r\nimport { MapNode } from \"../nodes/MapNode\";\r\nimport { ArrayNode } from \"../nodes/ArrayNode\";\r\nimport { BaseNode, BaseNodes } from \"../nodes/BaseNode\";\r\nimport { ObjectNode } from \"../nodes/ObjectNode\";\r\n\r\nexport const removeDataNode = (\r\n  data: Record<string, unknown>,\r\n  paths: (string | number)[]\r\n): Record<string, unknown> => {\r\n  const obj: any = { ...data };\r\n  let next = obj;\r\n  for (let i = 0; i < paths.length; i++) {\r\n    if (i === paths.length - 1) {\r\n      delete next[paths[i]];\r\n      break;\r\n    }\r\n    next = next[paths[i]];\r\n  }\r\n  return obj;\r\n};\r\n\r\nexport const getNodeInstance = (\r\n  group: string,\r\n  rootDataNode: BaseNodes,\r\n  rootJsonNode: any,\r\n  paths: (string | number)[]\r\n): IValidationResult => {\r\n  let resultNode: BaseNode|undefined = rootDataNode[group];\r\n  let json = rootJsonNode;\r\n  // let nextResultNode;\r\n\r\n  for (const path of paths) {  \r\n    // Looping through node path\r\n\r\n    if (resultNode) {\r\n      // If discriminator, then get the relevant type\r\n      if(resultNode.discriminator && resultNode.data){\r\n        let nextResultNodeTypeFromData;\r\n        if(json){\r\n          //Try to obtain discriminator type from currentJson\r\n          const subTypeInData: any = json[resultNode.discriminator.propertyName];\r\n          nextResultNodeTypeFromData = (resultNode.data as BaseNodes)[subTypeInData];\r\n        }\r\n        resultNode = nextResultNodeTypeFromData ?? Object.values(resultNode.data)[0];\r\n      }\r\n    \r\n      // If AdditionalNode/ArrayNode, then get the nextNode from sample data\r\n      if (resultNode instanceof MapNode || resultNode instanceof ArrayNode) {\r\n        resultNode = resultNode.sampleData;\r\n      } else {\r\n      // Get the nextNode from path\r\n        resultNode = (resultNode?.data as BaseNodes)[path]; \r\n      }\r\n      \r\n      if (!resultNode) {\r\n        return {\r\n          group,\r\n          resultNode: null,\r\n          error: {\r\n            type: ErrorType.InvalidPath,\r\n          },\r\n        };\r\n      }\r\n    }\r\n\r\n    if(json){\r\n      json = json[path];\r\n    }\r\n  }\r\n\r\n  const resultData = getJson(resultNode);\r\n  return { group, resultNode, resultData };\r\n};\r\n\r\nconst getPrimitiveValue = (obj: BaseNode | undefined) => {\r\n  switch (obj?.type) {\r\n    case DataType.string:\r\n      return obj.data ?? \"\";\r\n    case DataType.number:\r\n      return obj.data ?? 0;\r\n    case DataType.boolean:\r\n      return obj.data ?? false;\r\n    case DataType.object:\r\n    case DataType.map:\r\n      return obj.data ?? {};\r\n    case DataType.array:\r\n      return obj.data ?? [];\r\n\r\n    default:\r\n      return undefined;\r\n  }\r\n};\r\n\r\nexport const getJson = (obj: BaseNode | undefined): any => {\r\n  /**\r\n   * If example json value found, then just return the provided example.\r\n   */\r\n  if(obj?.example){\r\n    return obj.example;\r\n  }\r\n\r\n  if (obj instanceof ObjectNode) {\r\n   if (obj.data) {\r\n      const dat: any = {};\r\n      for (const [key, val] of Object.entries(obj.data)) {\r\n        if(!(val as BaseNode).discriminator){\r\n          dat[key] = getJson(val);\r\n        }\r\n      }\r\n      return dat;\r\n    } else {\r\n      return getPrimitiveValue(obj);\r\n    }\r\n  } else if (obj instanceof ArrayNode) {\r\n    if (obj.minItems) {\r\n      const dat: any = [];\r\n      // No need to handle discriminator types since they are optional\r\n      if(!obj.sampleData?.discriminator){\r\n        const sampleVal = getJson(obj.sampleData);\r\n\r\n        for (let i = 0; i < obj.minItems; i++) {\r\n          dat.push(sampleVal);\r\n        }\r\n      }\r\n      return dat;\r\n    } else {\r\n      return [];\r\n    }\r\n  } // No need to handle MapNodes, since they are optional always \r\n  else {\r\n    return getPrimitiveValue(obj);\r\n  }\r\n};\r\n","import YAML from \"yamljs\";\r\nimport ymlFile from \"../config/twinconfig.yaml\";\r\nimport SwaggerParser from \"@apidevtools/swagger-parser\";\r\nimport { ISchemaNode } from \"./interfaces/ISchemaNode\";\r\nimport { ErrorType, IValidationResult } from \"./interfaces/IValidationResult\";\r\nimport { populateChildren } from \"./util/NodeFactory\";\r\nimport { BaseNode } from \"./nodes/BaseNode\";\r\nimport { getJson, getNodeInstance } from \"./util/Helper\";\r\nimport { DataType } from \"./enum/DataType.enum\";\r\nimport { MapNode } from \"./nodes/MapNode\";\r\nimport { ArrayNode } from \"./nodes/ArrayNode\";\r\n\r\nexport interface TemplateNode {\r\n  key: string;\r\n  data: Record<string, unknown>;\r\n  node: BaseNode;\r\n  sample: any;\r\n}\r\nconst defaultGroup = \"TwinConfiguration\";\r\n\r\nexport const rootDataNode: { [key: string]: BaseNode } = {};\r\nconst allNodes: TemplateNode[] = [];\r\n\r\nexport const getNodeMeta = (\r\n  paths: (string | number)[],\r\n  rootJson: any,\r\n  group: string = defaultGroup\r\n): IValidationResult => {\r\n  return getNodeInstance(group, rootDataNode, rootJson, paths);\r\n};\r\n\r\nexport const getAllNodes = (): TemplateNode[] => {\r\n  return allNodes;\r\n};\r\n\r\nexport const removeNode = (\r\n  data: Record<string, unknown>,\r\n  paths: (string | number)[],\r\n  group: string = defaultGroup\r\n): IValidationResult => {\r\n  const root = { ...rootDataNode };\r\n  // TODO: Can we avoid 2 calls to getNodeInstance\r\n  const result = getNodeInstance(group, root, data, paths);\r\n  const resultParent =\r\n    paths.length > 1\r\n      ? getNodeInstance(group, root, data, paths.slice(0, paths.length - 1))\r\n      : null;\r\n\r\n  if (!result.error) {\r\n    if (result.resultNode?.isRequired) {\r\n      return {\r\n        group,\r\n        error: {\r\n          type: ErrorType.RequiredNode,\r\n        },\r\n      };\r\n    } else {\r\n      if (\r\n        resultParent &&\r\n        resultParent.resultNode instanceof ArrayNode &&\r\n        resultParent.resultNode.minItems\r\n      ) {\r\n        let subTree = data;\r\n        paths.slice(0, paths.length - 1).forEach((step: number | string) => {\r\n          subTree = subTree[step] as Record<string, unknown>;\r\n        });\r\n\r\n        if (\r\n          ((subTree as unknown) as any[]).length <=\r\n          resultParent.resultNode.minItems\r\n        ) {\r\n          return {\r\n            group,\r\n            error: {\r\n              type: ErrorType.MinLength,\r\n            },\r\n          };\r\n        }\r\n      }\r\n\r\n      return {\r\n        group,\r\n        resultNode: null,\r\n      };\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nconst getSample = (node: BaseNode) => {\r\n  if (node instanceof MapNode || node instanceof ArrayNode) {\r\n    const sample = node.sampleData;\r\n    const js = getJson(sample);\r\n    return js;\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const loadSchema = (): Promise<void> => {\r\n  return new Promise((resolve, reject) => {\r\n    YAML.load(ymlFile, (ymlJson: any) => {\r\n      SwaggerParser.validate(ymlJson, (err, api) => {\r\n        if (api) {\r\n          const rootSchema = api.components.schemas;\r\n\r\n          for (const [key, val] of Object.entries(rootSchema)) {\r\n            const childrenNodes = populateChildren(val as ISchemaNode, true, {\r\n              description: \"root\",\r\n              type: \"\",\r\n              properties: {},\r\n            });\r\n            rootDataNode[key] = childrenNodes;\r\n          }\r\n\r\n          // Populate root nodes\r\n          for (const key1 of Object.keys(rootSchema)) {\r\n            const group = rootDataNode[key1];\r\n\r\n            if (group.data) {\r\n              for (const [key2, val2] of Object.entries(group.data)) {\r\n                if (group.type === DataType.object) {\r\n                  allNodes.push({\r\n                    key: key1 + \":\" + key2,\r\n                    node: val2,\r\n                    data: getJson(group)[key2],\r\n                    sample: getSample((group.data as any)[key2]),\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          }\r\n          console.log(\"Schema YML!\", rootSchema);\r\n          console.log(\"Schema Node!\", rootDataNode);\r\n          (window as any)[\"nodes\"] = rootDataNode;\r\n          console.log(\"All Nodes\", allNodes);\r\n          console.log(\"JSON->\", getJson(rootDataNode[defaultGroup]));\r\n          resolve();\r\n        } else {\r\n          console.error(err);\r\n          reject();\r\n        }\r\n      });\r\n    });\r\n  });\r\n};\r\n","export const APP_NAME = \"Cognite Remote Configurator\";\r\nexport const LOGIN_HEADER = \"Enter Your Project Name\";\r\nexport const LOGIN_CDF_ENVIRONMENT_OPT_TEXT = \"cdfEnvironment\";\r\nexport const DEV_MODE = false;\r\n\r\n// String Constants\r\nexport const LOCALIZATION = {\r\n    RETRIEVE_CONFIGS_FAIL: 'Unable to retrieve json configs! {{error}}',\r\n    UNTITLED: \"Untitled\",\r\n    INCONSISTANT_VALUE: 'Inconsistant value. Remove and insert it again to fill missing fields',\r\n\r\n    // Save command\r\n    SAVE_TITLE: 'Create New Json Config',\r\n    SAVE_CONTENT: 'Do you want to create new Json Config?',\r\n    SAVE_SUCCESS: 'Data saved successfully!',\r\n    SAVE_ERROR: 'Save Cancelled! {{error}}',\r\n    SAVE_INVALID_FILE: 'Save Cancelled! Please add a file name',\r\n\r\n    // Upload command\r\n    UPLOAD_TITLE: 'Update File',\r\n    UPLOAD_CONTENT: 'Do you want to update file with new changes?',\r\n    UPLOAD_SUCCESS: 'Data updated successfully!',\r\n    UPLOAD_ERROR: 'Save Cancelled! {{error}}',\r\n    UPLOAD_INVALID_FILE: 'Update failed!',\r\n\r\n    // Delete command\r\n    DELETE_TITLE: 'Delete Config',\r\n    DELETE_CONTENT: 'Are you sure you want to permanently delete this config?',\r\n    DELETE_SUCCESS: 'Json Config deleted successfully!',\r\n    DELETE_ERROR: 'Delete Cancelled! {{error}}',\r\n    DELETE_INVALID_FILE: 'Delete Cancelled! Please select a file',\r\n\r\n    // Remove item menu option\r\n    REMOVE_ENABLED: 'Remove this field',\r\n    REMOVE_DISABLED: 'Cannot Remove.',\r\n    REMOVE_INVALID_PATH: 'Remove this field. This field contains an invalid path',\r\n    REMOVE_MANDATORY: 'Cannot Remove. This field is mandatory',\r\n    REMOVE_MINIMUM_LENGTH: 'Cannot Remove. Array has a minimum length',\r\n\r\n}\r\n","import JSONEditor, {\r\n    AutoCompleteElementType,\r\n    JSONEditorMode,\r\n    JSONEditorOptions,\r\n    JSONPath,\r\n    MenuItem,\r\n    MenuItemNode,\r\n    ValidationError\r\n} from \"jsoneditor\";\r\nimport isBoolean from \"lodash-es/isBoolean\";\r\nimport isString from \"lodash-es/isString\";\r\nimport { getNodeMeta, getAllNodes, removeNode } from \"../validator/Validator\";\r\nimport { ErrorType } from \"../validator/interfaces/IValidationResult\";\r\nimport { StringNode } from \"../validator/nodes/StringNode\";\r\nimport { JsonConfigCommandCenter } from \"./JsonConfigCommandCenter\";\r\nimport { MapNode } from \"../validator/nodes/MapNode\";\r\nimport { BaseNode, BaseNodes, IData } from \"../validator/nodes/BaseNode\";\r\nimport { ArrayNode } from \"../validator/nodes/ArrayNode\";\r\nimport { DataType } from \"../validator/enum/DataType.enum\";\r\nimport { getJson } from \"../validator/util/Helper\";\r\nimport message from 'antd/es/message';\r\nimport { LOCALIZATION } from '../constants'\r\n\r\nconst extractField = (key: string) => {\r\n    return key.split(\":\")[1]\r\n}\r\n\r\nexport class CogniteJsonEditorOptions implements JSONEditorOptions {\r\n\r\n    public get options(): JSONEditorOptions {\r\n\r\n        return {\r\n            mode: this.mode,\r\n            // modes: this.modes,\r\n            templates: this.templates,\r\n            autocomplete: this.autocomplete,\r\n            enableSort: this.enableSort,\r\n            indentation: this.indentation,\r\n            escapeUnicode: this.escapeUnicode,\r\n            enableTransform: this.enableTransform,\r\n            onCreateMenu: ((menuItems: MenuItem[], node: MenuItemNode) => {\r\n                return this.onCreateMenu(menuItems, node);\r\n            }),\r\n            onValidate: this.onValidate,\r\n            onChange: this.onChange,\r\n            onError: this.onError\r\n        }\r\n    }\r\n\r\n    public mode: \"tree\" | \"code\" | \"preview\" | undefined = 'tree';\r\n\r\n    public modes: JSONEditorMode[] = [\"tree\", \"code\"];\r\n\r\n    public get templates(): any {\r\n        const allTemplates: any = [];\r\n        getAllNodes().forEach(ele => {\r\n            const key = extractField(ele.key);\r\n            const template = {\r\n                text: key,\r\n                title: ele.node.description,\r\n                className: 'jsoneditor-type-object',\r\n                field: key,\r\n                value: ele.data\r\n            }\r\n            allTemplates.push(template);\r\n\r\n            if (ele.node.discriminator && ele.node.data) {\r\n                // If discriminator exists, add all sub types as templates\r\n                Object.entries(ele.node.data).forEach(([subKey, subVal]) => {\r\n                    const template = {\r\n                        text: `${key}-${subKey}`,\r\n                        title: `Add sample item to ${key}`,\r\n                        className: \"jsoneditor-type-object\",\r\n                        field: `${key}`,\r\n                        value: getJson(subVal as BaseNode),\r\n                    };\r\n                    allTemplates.push(template);\r\n                });\r\n            }\r\n\r\n            if (ele.node.type === DataType.array || ele.node.type === DataType.map) {\r\n                const template = {\r\n                    text: `${key}-sample`,\r\n                    title: `Add sample item to ${key}`,\r\n                    className: 'jsoneditor-type-object',\r\n                    field: `${key}-sample`,\r\n                    value: ele.sample\r\n                }\r\n                allTemplates.push(template);\r\n            }\r\n        });\r\n        return allTemplates;\r\n    }\r\n\r\n    // remove unwanted items from top Command Bar\r\n    public enableSort = false;\r\n    public enableTransform = false;\r\n\r\n    public indentation = 4;\r\n    public escapeUnicode = true;\r\n\r\n    public onCreateMenu(menuItems: MenuItem[], node: MenuItemNode): any[] {\r\n        const currentJson = JsonConfigCommandCenter.currentJson;\r\n        const path = node.path;\r\n        // get parent Path for add function\r\n        const parentPath: string[] = [...path];\r\n        // Skip case: adding first child\r\n        if (node.type !== \"append\") {\r\n            parentPath.pop();\r\n        }\r\n\r\n        const removePossibility = removeNode(currentJson, [...path]);\r\n\r\n        // Creating a new MenuItem array that only contains valid items\r\n        // and replace submenu with valid items\r\n        menuItems.forEach(item => {\r\n            if (item.text === \"Insert\") {\r\n                item.click = undefined;\r\n                item.submenu = this.createValidInsertMenu(item.submenu, currentJson, parentPath);\r\n            }\r\n            // adding same logic to Append\r\n            else if (node.type === \"append\" && item.text === \"Append\") {\r\n                item.text = \"Insert\";\r\n                item.click = undefined;\r\n                item.submenu = this.createValidInsertMenu(item.submenu, currentJson, parentPath);\r\n            }\r\n\r\n            // if removeNode validation returns error\r\n            // Remove default Remove(Delete) function and alert the error\r\n            // except for ErrorType.InvalidPath\r\n            else if (item.text === \"Remove\") {\r\n                item.title = LOCALIZATION.REMOVE_ENABLED;\r\n                if (removePossibility.error) {\r\n                    // allows Remove even it has InvalidPath error\r\n                    if (removePossibility.error.type === ErrorType.InvalidPath) {\r\n                        item.title = LOCALIZATION.REMOVE_INVALID_PATH;\r\n                    } else {\r\n                        item.className = \"warning-triangle\";\r\n                        switch (removePossibility.error.type) {\r\n                            case ErrorType.RequiredNode:\r\n                                item.title = LOCALIZATION.REMOVE_MANDATORY;\r\n                                item.click = () => {\r\n                                    message.error(LOCALIZATION.REMOVE_MANDATORY);\r\n                                }\r\n                                break;\r\n                            case ErrorType.MinLength:\r\n                                item.title = LOCALIZATION.REMOVE_MINIMUM_LENGTH;\r\n                                item.click = () => {\r\n                                    message.error(LOCALIZATION.REMOVE_MINIMUM_LENGTH);\r\n                                }\r\n                                break;\r\n                            default:\r\n                                item.title = LOCALIZATION.REMOVE_DISABLED;\r\n                                item.click = () => {\r\n                                    message.error(LOCALIZATION.REMOVE_DISABLED);\r\n                                }\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        // remove unwanted menu items\r\n        menuItems = menuItems.filter(item => {\r\n            return item.text !== \"Type\" &&\r\n                item.text !== \"Sort\" &&\r\n                item.text !== \"Transform\" &&\r\n                item.text !== \"Extract\" &&\r\n                item.text !== \"Duplicate\" &&\r\n                item.text !== \"Append\" &&\r\n                item.type !== \"separator\"\r\n        })\r\n\r\n        return menuItems;\r\n    }\r\n\r\n    public get autocomplete(): any {\r\n        return {\r\n            filter: 'start',\r\n            trigger: 'focus',\r\n            getOptions: (text: string, path: JSONPath, input: AutoCompleteElementType, editor: JSONEditor) => {\r\n                return new Promise((resolve, reject) => {\r\n                    const rootJson = JSON.parse(editor.getText());\r\n                    const { resultNode } = getNodeMeta([...path], rootJson);\r\n\r\n                    if (resultNode && resultNode.type === DataType.string) {\r\n                        const stringNode = resultNode as StringNode;\r\n                        if (stringNode.possibleValues && stringNode.possibleValues.length > 0) {\r\n                            resolve(stringNode.possibleValues)\r\n                        } else {\r\n                            reject()\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n    public onChange = (): void => {\r\n        JsonConfigCommandCenter.updateTitle();\r\n    }\r\n\r\n    public onError = (err: any): void => {\r\n        if(err) {\r\n            message.error(err.message);\r\n        }\r\n    }\r\n\r\n\r\n    public onValidate = (json: any): ValidationError[] | Promise<ValidationError[]> => {\r\n\r\n        const schemaMeta = getNodeMeta([], json).resultNode; // meta of root node from schema\r\n        const errors = this.validateFields(json, schemaMeta);\r\n\r\n        return errors;\r\n    }\r\n\r\n    /**\r\n     * Validates if\r\n     * 1. All required keys from schema are available\r\n     * 2. there are no invalid keys\r\n     * 3. Discriminate properties are available and follows the schema\r\n     * @param json\r\n     * @param schemaMeta\r\n     * @param discriminator\r\n     * @param paths\r\n     * @param errors\r\n     * @private\r\n     */\r\n    private validateFields(json: any, schemaMeta: any, paths: any[] = [], errors: ValidationError[] = []): ValidationError[] {\r\n\r\n        const missingRequiredFields = [];\r\n        const validatedKeys = new Set<string>();\r\n        const schemaType = schemaMeta.type;\r\n        let schemaMetaData: any;\r\n        const discriminator = schemaMeta.discriminator;\r\n\r\n        if(discriminator) {\r\n            if(schemaType === DataType.object) {\r\n                schemaMetaData = schemaMeta.data;\r\n            } else if (schemaType === DataType.array || schemaType === DataType.map) {\r\n                schemaMetaData = schemaMeta.sampleData;\r\n            }\r\n            const discriminatorErrors = this.validateDiscriminator(json, schemaMetaData, discriminator, paths);\r\n            errors = discriminatorErrors.concat(errors);\r\n        } else {\r\n            switch (schemaType) {\r\n                case DataType.object: {\r\n                    schemaMetaData = schemaMeta.data;\r\n\r\n                    for (const childKey of Object.keys(schemaMetaData)) {\r\n                        const childValue = json[childKey];\r\n                        const childPath = paths.concat([childKey]);\r\n                        const childMeta = schemaMetaData[childKey];\r\n\r\n                        const isChildKeyRequired = childMeta.isRequired;\r\n\r\n                        const hasKey = Object.prototype.hasOwnProperty.call(json, childKey);\r\n\r\n                        if (!hasKey) {\r\n                            if (isChildKeyRequired) {\r\n                                missingRequiredFields.push(childKey);\r\n                            }\r\n                        } else {\r\n                            validatedKeys.add(childKey);\r\n\r\n                            const childErrors = this.validateFields(childValue, childMeta, childPath);\r\n                            errors = childErrors.concat(errors);\r\n\r\n                        }\r\n                    }\r\n\r\n                    for (const jsonChildKey of Object.keys(json)) { // validate unnecessary fields\r\n                        if (!validatedKeys.has(jsonChildKey)) {\r\n                            const newPath = paths.concat([jsonChildKey]);\r\n                            errors.push({ path: newPath, message: `key: ${jsonChildKey}, is not a valid key!` });\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case DataType.map:\r\n                case DataType.array: {\r\n\r\n                    schemaMetaData = schemaMeta.sampleData;\r\n\r\n                    const callNextIteration = (childKey: any, childValue: any) => {\r\n                        const childPath = paths.concat([childKey]);\r\n\r\n                        const childErrors = this.validateFields(childValue, schemaMetaData, childPath);\r\n                        errors = childErrors.concat(errors);\r\n                    }\r\n\r\n                    if (schemaType === DataType.map) {\r\n                        for (const mapChildKey of Object.keys(json)) {\r\n                            const mapChild = json[mapChildKey];\r\n                            callNextIteration(mapChildKey, mapChild);\r\n                        }\r\n                    } else {\r\n                        for (let i = 0; i < json.length; i++) {\r\n                            const mapChild = json[i];\r\n                            callNextIteration(i, mapChild);\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n                }\r\n                default: {\r\n                    schemaMetaData = schemaMeta;\r\n                    const valueErrors =  this.validateValues(json, schemaMetaData, paths);\r\n                    errors = valueErrors.concat(errors);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (missingRequiredFields.length) {\r\n            errors.push({ path: paths, message: `Required fields: ${missingRequiredFields.join(',')} not available in object` })\r\n        }\r\n\r\n        return errors;\r\n    }\r\n\r\n    private validateDiscriminator(json: any, schema: any, discriminator: { propertyName: string }, paths: any[], errors: ValidationError[] = []): ValidationError[] {\r\n        const discriminatorType = json[discriminator.propertyName];\r\n\r\n        if (discriminatorType) { // whether discriminator property is available\r\n            const discriminatorMeta = schema[discriminatorType];\r\n            if (discriminatorMeta) {\r\n                const childErrors = this.validateFields(json, discriminatorMeta, paths);\r\n                errors = childErrors.concat(errors);\r\n            } else {\r\n                errors.push({ path: paths, message: `Required field ${discriminator.propertyName} does not have a valid type!` });\r\n            }\r\n        } else {\r\n            errors.push({ path: paths, message: `Required field ${discriminator.propertyName} not available!` });\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    private validateValues(value: string | boolean | number | null | undefined, schema: any, paths: any[], errors: ValidationError[] = []) : ValidationError[] {\r\n        if(schema) {\r\n            const datatype: DataType = schema.type;\r\n            const possibleValues = schema.possibleValues;\r\n            const isRequired = schema.isRequired;\r\n\r\n            if(!value && value !== 0) {\r\n                if(isRequired) {\r\n                    errors.push({ path: paths, message: `Value cannot be empty!` });\r\n                }\r\n            } else {\r\n                if(possibleValues && possibleValues.length) {\r\n                    let isOneOfPossibleValues = false;\r\n                    for(const possibleVal of possibleValues) {\r\n                        if(value === possibleVal) {\r\n                            isOneOfPossibleValues = true;\r\n                        }\r\n                    }\r\n                    if(!isOneOfPossibleValues) {\r\n                        errors.push({ path: paths, message: `value not one of the possible values!` });\r\n                    }\r\n                }\r\n                switch (datatype) {\r\n                    case DataType.number: {\r\n                        const minimum = schema.minimum;\r\n                        const maximum = schema.maximum;\r\n                        if(isNaN(Number(value))) {\r\n                            errors.push({ path: paths, message: `value is not of the correct number type!` });\r\n                        } else {\r\n                            if(minimum) {\r\n                                if(value < minimum) {\r\n                                    errors.push({ path: paths, message: `value cannot be less than ${minimum}!` });\r\n                                }\r\n                            }\r\n                            if(maximum) {\r\n                                if(value > maximum) {\r\n                                    errors.push({ path: paths, message: `value cannot be greater than ${maximum}!` });\r\n                                }\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case DataType.boolean:{\r\n                        if(!isBoolean(value)) {\r\n                            errors.push({ path: paths, message: `value is not of the correct boolean type!` });\r\n                        }\r\n                        break;\r\n                    }\r\n                    case DataType.string:{\r\n                        if(!isString(value)) {\r\n                            errors.push({ path: paths, message: `value is not of the correct string type!` });\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return errors;\r\n    }\r\n\r\n    private createValidInsertMenu(submenu: MenuItem[] | undefined, currentJson: any, parentPath: (string | number)[]): any {\r\n        const validMenuItems: MenuItem[] = [];\r\n        const { resultNode, error } = getNodeMeta([...parentPath], currentJson);\r\n\r\n        if (error) {\r\n            message.error(LOCALIZATION.INCONSISTANT_VALUE);\r\n            return undefined;\r\n        }\r\n\r\n        const validInsertItems: any = this.getValidInsertItems(parentPath, currentJson, resultNode);\r\n        const existingKeys: (number | string)[] = Object.keys(this.getPathObject(currentJson, [...parentPath]));\r\n\r\n        if (submenu === undefined || submenu.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        submenu?.forEach(subItem => {\r\n            if (validInsertItems !== undefined && validInsertItems.length !== 0) {\r\n                Object.keys(validInsertItems).forEach((key: any) => {\r\n                    if ((subItem.text === key)\r\n                        && (subItem.title === validInsertItems[key].description)\r\n                        // For discriminator types, if any key is added with base type, it needs to be filtered out.\r\n                        && !existingKeys.includes(key.split('-')[0])) {\r\n                        validMenuItems.push(subItem);\r\n                        existingKeys.push(key);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        return validMenuItems;\r\n    }\r\n\r\n    private getPathObject(json: any, path: (number | string)[]): any {\r\n        let subTree = json;\r\n        path.forEach((step: number | string) => {\r\n            subTree = subTree[step];\r\n        });\r\n        return subTree;\r\n    }\r\n\r\n    // TODO: Re-implement this method with recursive calls\r\n    private getValidInsertItems(parentPath: (string | number)[], currentJson: any, node: BaseNode | undefined | null): IData {\r\n        const key = parentPath[parentPath.length - 1]\r\n        let resultNode = node;\r\n\r\n        /**\r\n         * If dicriminator, resultNode should get from data[`type`]\r\n         */\r\n        if (resultNode?.discriminator) {\r\n            const currentData = this.getPathObject(currentJson, parentPath);\r\n            const typeIndicatorKey = resultNode.discriminator.propertyName;\r\n            const dataType = currentData[typeIndicatorKey];\r\n            resultNode = (resultNode.data as BaseNodes)[dataType];\r\n        }\r\n\r\n        /**\r\n         * When adding items to an Array or a Map,\r\n         * returning a IData object with matching key and description\r\n         */\r\n        if (resultNode instanceof ArrayNode || resultNode instanceof MapNode) {\r\n            // TODO: Refactor/Test this code. This might fail when a discriminator type comes inside an Array or Map\r\n            if (resultNode.sampleData?.discriminator) {\r\n                // TODO: Check is this possible for other type of nodes\r\n                return resultNode.sampleData.data;\r\n            }\r\n            const ret: BaseNodes = {\r\n                [`${key}-sample`]: new BaseNode(DataType.unspecified, {\r\n                    type: DataType.object,\r\n                    description: `Add sample item to ${key}`\r\n                }, undefined, true)\r\n            }\r\n            return ret;\r\n\r\n        } else if (resultNode?.data) {\r\n            // Since some nodes might be deleted by the logic below, this object must be cloned.\r\n            const res: any = { ...(resultNode.data as BaseNodes) };\r\n\r\n            Object.entries(res as Record<string, unknown>).forEach(\r\n                ([key, node]) => {\r\n                    if ((node as BaseNode).discriminator) {\r\n                        delete res[key];\r\n                        Object.keys(\r\n                            (node as BaseNode).data as Record<string, unknown>\r\n                        ).forEach((desKey) => {\r\n                            res[`${key}-${desKey}`] = {\r\n                                description: `Add sample item to ${key}`,\r\n                            };\r\n                        });\r\n                    }\r\n                }\r\n            );\r\n            return res;\r\n        } else {\r\n            message.error(LOCALIZATION.INCONSISTANT_VALUE);\r\n            return undefined;\r\n        }\r\n    }\r\n}\r\n","import { CogniteClient } from \"@cognite/sdk\";\r\n\r\n\r\nexport class Client {\r\n    public static sdk = new CogniteClient({ appId: 'json-configurator' });\r\n}\r\n","import { HttpRequestOptions, HttpResponse } from \"@cognite/sdk/dist/src\";\r\nimport { Client } from \"../cdf/client\";\r\nimport { Api } from \"./Api\";\r\n\r\nconst cogniteClient = Client.sdk;\r\n\r\nexport class DigitalTwinApi implements Api {\r\n\r\n    public jsonList = async (): Promise<any> => {\r\n        return await cogniteClient.get(`${cogniteClient.getBaseUrl()}/api/playground/projects/${cogniteClient.project}/twins`)\r\n            .then(response => {\r\n                console.log(\"Retrieved Digital Twin List successfully\");\r\n                const jsonConfigs = response.data.data?.items;\r\n                const jsonConfigIdMap = new Map();\r\n\r\n                for (const jsonConfig of jsonConfigs) {\r\n                    const jsonConfigId = jsonConfig.id;\r\n                    jsonConfigIdMap.set(jsonConfigId, jsonConfig);\r\n                }\r\n                return jsonConfigIdMap;\r\n            });\r\n    }\r\n\r\n    public saveJson = async (json: any): Promise<HttpResponse<any>> => {\r\n\r\n        const options: HttpRequestOptions = {\r\n            data: {\r\n                \"items\": [\r\n                    { \"data\": json }\r\n                ]\r\n            }\r\n        };\r\n\r\n        return await cogniteClient.post(`${cogniteClient.getBaseUrl()}/api/playground/projects/${cogniteClient.project}/twins`, options);\r\n    }\r\n\r\n    public updateJson = async (configId: number, json: any): Promise<HttpResponse<any>> => {\r\n\r\n        const options: HttpRequestOptions = {\r\n            data: {\r\n                \"items\": [\r\n                    {\r\n                        \"id\": configId,\r\n                        \"data\": json\r\n                    }\r\n                ]\r\n            }\r\n        };\r\n\r\n        return await cogniteClient.post(`${cogniteClient.getBaseUrl()}/api/playground/projects/${cogniteClient.project}/twins/update`, options);\r\n    }\r\n\r\n    public deleteJson = async (configId: number): Promise<HttpResponse<any>> => {\r\n        const options: HttpRequestOptions = {\r\n            data: {\r\n                \"items\": [\r\n                    configId\r\n                ]\r\n            }\r\n        };\r\n\r\n        return await cogniteClient.post(`${cogniteClient.getBaseUrl()}/api/playground/projects/${cogniteClient.project}/twins/delete`, options)\r\n    }\r\n\r\n}\r\n","import { Modes } from \"../userInterface/util/enums/Modes\";\r\nimport { CogniteJsonEditor } from \"./CogniteJsonEditor\";\r\nimport { CogniteJsonEditorOptions } from \"./CogniteJsonEditorOptions\";\r\nimport { loadSchema } from \"../validator/Validator\";\r\nimport { saveAs } from 'file-saver';\r\nimport { DigitalTwinApi } from \"./DigitalTwinApi\";\r\nimport { Api } from \"./Api\";\r\nimport { LOCALIZATION } from \"../constants\";\r\nimport { JSONEditorMode } from \"jsoneditor\";\r\n\r\nexport class JsonConfigCommandCenter {\r\n    public static titleUpdateCallback: (text: string, mode: JSONEditorMode) => void;\r\n    private static editorInstance: CogniteJsonEditor;\r\n    private static apiInstance: Api;\r\n\r\n    public static async createEditor(elm: HTMLElement): Promise<void> {\r\n        await loadSchema();\r\n        JsonConfigCommandCenter.apiInstance = new DigitalTwinApi();\r\n        const options = new CogniteJsonEditorOptions();\r\n        JsonConfigCommandCenter.editorInstance = new CogniteJsonEditor(elm, options);\r\n    }\r\n\r\n    public static get editor(): CogniteJsonEditor | null {\r\n        if (JsonConfigCommandCenter.editorInstance) {\r\n            return JsonConfigCommandCenter.editorInstance;\r\n        } else {\r\n            console.error(\"Cannot retrieve editor before instantiation!\");\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public static get api(): Api {\r\n        if (!JsonConfigCommandCenter.apiInstance) {\r\n            JsonConfigCommandCenter.apiInstance = new DigitalTwinApi();\r\n        }\r\n        return JsonConfigCommandCenter.apiInstance;\r\n    }\r\n\r\n    public static get currentJson(): any {\r\n        const currentJsonText = JsonConfigCommandCenter.editor?.getText();\r\n        let currentJson;\r\n        if (currentJsonText) {\r\n            try{\r\n                currentJson = JSON.parse(currentJsonText);\r\n            } catch (e: any) {\r\n                console.error(\"Error occurred while parsing json!\", e);\r\n            }\r\n        }\r\n        return currentJson;\r\n    }\r\n    public static get currentFileName(): string {\r\n        const currentJson = JsonConfigCommandCenter.currentJson;\r\n        return currentJson?.header?.name;\r\n    }\r\n\r\n    public static updateTitle = (): void => {\r\n        if(JsonConfigCommandCenter.editor && JsonConfigCommandCenter.titleUpdateCallback) {\r\n            const currentTitle = JsonConfigCommandCenter.currentFileName || LOCALIZATION.UNTITLED;\r\n            const currentMode = JsonConfigCommandCenter.editor?.getMode();\r\n            JsonConfigCommandCenter.titleUpdateCallback(currentTitle, currentMode);\r\n        }\r\n    }\r\n\r\n    public static loadJsonConfigs = async (): Promise<any> => {\r\n        return await JsonConfigCommandCenter.api.jsonList();\r\n    }\r\n\r\n    public static onModeChange(mode: Modes): void {\r\n        if (JsonConfigCommandCenter.editor) {\r\n            JsonConfigCommandCenter.editor.setMode(mode);\r\n        }\r\n    }\r\n\r\n    public static onSaveAs = async (): Promise<any> => {\r\n        const currentJson = JsonConfigCommandCenter.currentJson;\r\n        return await JsonConfigCommandCenter.api.saveJson(currentJson);\r\n    }\r\n\r\n    public static onUpdate = async (selectedJsonConfigId: number | null): Promise<any> => {\r\n        const currentJson = JsonConfigCommandCenter.currentJson;\r\n        if (selectedJsonConfigId) {\r\n            return await JsonConfigCommandCenter.api.updateJson(selectedJsonConfigId, currentJson);\r\n        }\r\n    }\r\n\r\n    public static onDelete = async (selectedJsonConfigId: number | null): Promise<any> => {\r\n        if (selectedJsonConfigId) {\r\n            return await JsonConfigCommandCenter.api.deleteJson(selectedJsonConfigId);\r\n        }\r\n    }\r\n\r\n    public static onDownload = (): void => {\r\n        const currentJson = JSON.stringify(JsonConfigCommandCenter.currentJson);\r\n        let fileName = JsonConfigCommandCenter.currentFileName;\r\n        if (!fileName || fileName === \"\") {\r\n            fileName = \"Untitled Json Config\";\r\n        }\r\n        const blob = new Blob([currentJson], { type: 'application/json;charset=utf-8' });\r\n        saveAs(blob, fileName);\r\n    }\r\n}\r\n","export enum Modes {\r\n    default = \"tree\",\r\n    paste = \"code\",\r\n}\r\n","import React from 'react';\r\nimport Button from \"antd/es/button\";\r\nimport styles from \"./CommandItem.module.scss\";\r\n\r\nexport const CommandItem: React.FC<{ className?: string, onClick?: () => void, icon?: string }> = (props) => {\r\n    return (<Button type=\"primary\" className={`${styles.commandBtn} ${props.className}`}\r\n                    icon={props.icon}\r\n                    size=\"large\"\r\n                    onClick={props.onClick}>\r\n            {props.children}\r\n    </Button>);\r\n}\r\n","import React, { useState } from 'react';\r\nimport classes from './CommandPanel.module.scss';\r\nimport { CommandItem } from '../../components/CommandItem/CommandItem';\r\nimport Switch from 'antd/es/switch';\r\nimport message from 'antd/es/message';\r\nimport Modal from 'antd/es/modal';\r\nimport { CommandEvent } from \"../../util/Interfaces/CommandEvent\";\r\nimport { Modes } from \"../../util/enums/Modes\";\r\nimport { JsonConfigCommandCenter } from '../../../core/JsonConfigCommandCenter';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { extractErrorMessage } from '../JsonConfigurator/JsonConfigurator';\r\nimport { LOCALIZATION } from '../../../constants';\r\nimport { JSONEditorMode } from \"jsoneditor\";\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst isValidFileName = (): boolean => {\r\n    const fileName = JsonConfigCommandCenter.currentFileName;\r\n    if (fileName) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport const CommandPanel: React.FC<{\r\n    commandEvent: (commandEvent: CommandEvent, ...args: any[]) => void,\r\n    reloadJsonConfigs: (jsonConfigId: number | null) => void,\r\n    selectedJsonConfigId: number | null\r\n}> = (props: any) => {\r\n    const [title, setTitle] = useState(LOCALIZATION.UNTITLED);\r\n    const [mode, setMode] = useState('tree');\r\n\r\n    const titleUpdateCallBack = (text: string, mode: JSONEditorMode) => {\r\n        setTitle(text);\r\n        setMode(mode)\r\n    };\r\n    JsonConfigCommandCenter.titleUpdateCallback = titleUpdateCallBack;\r\n\r\n    const onModeSwitch = (checked: boolean, evt: any) => {\r\n        if (checked) {\r\n            setMode(Modes.paste);\r\n            props.commandEvent(CommandEvent.mode, Modes.paste, evt);\r\n        } else {\r\n            setMode(Modes.default);\r\n            props.commandEvent(CommandEvent.mode, Modes.default, evt);\r\n        }\r\n    }\r\n\r\n    const onSaveHandler = () => {\r\n        if (!isValidFileName()) {\r\n            message.error(LOCALIZATION.SAVE_INVALID_FILE);\r\n        }\r\n        else {\r\n            confirm({\r\n                title: LOCALIZATION.SAVE_TITLE,\r\n                icon: <ExclamationCircleOutlined />,\r\n                content: LOCALIZATION.SAVE_CONTENT,\r\n                onOk() {\r\n                    props.commandEvent(CommandEvent.saveAs)\r\n                        .then((response: any) => {\r\n                            const createdId = response.data.data.items[0].id;\r\n                            props.reloadJsonConfigs(createdId);\r\n                            message.success(LOCALIZATION.SAVE_SUCCESS);\r\n                        })\r\n                        .catch((error: any) => {\r\n                            message.error(LOCALIZATION.SAVE_ERROR.replace('{{error}}', `${extractErrorMessage(error)}`));\r\n                        });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const onUpdateHandler = () => {\r\n        if (!isValidFileName()) {\r\n            message.error(LOCALIZATION.UPLOAD_INVALID_FILE);\r\n        }\r\n        else {\r\n            confirm({\r\n                title: LOCALIZATION.UPLOAD_TITLE,\r\n                icon: <ExclamationCircleOutlined />,\r\n                content: LOCALIZATION.UPLOAD_CONTENT,\r\n                onOk() {\r\n                    props.commandEvent(CommandEvent.update)\r\n                        .then((response: any) => {\r\n                            const createdId = response.data.data.items[0].id;\r\n                            props.reloadJsonConfigs(createdId);\r\n                            message.success(LOCALIZATION.UPLOAD_SUCCESS);\r\n                        })\r\n                        .catch((error: any) => {\r\n                            message.error(LOCALIZATION.UPLOAD_ERROR.replace('{{error}}', `${extractErrorMessage(error)}`));\r\n                        });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const onDeleteHandler = () => {\r\n        if (!isValidFileName()) {\r\n            message.error(LOCALIZATION.DELETE_INVALID_FILE);\r\n        }\r\n        else {\r\n            confirm({\r\n                title: LOCALIZATION.DELETE_TITLE,\r\n                icon: <ExclamationCircleOutlined />,\r\n                content: LOCALIZATION.DELETE_CONTENT,\r\n                onOk() {\r\n                    props.commandEvent(CommandEvent.delete)\r\n                        .then(() => {\r\n                            props.reloadJsonConfigs(null);\r\n                            message.success(LOCALIZATION.DELETE_SUCCESS);\r\n                        })\r\n                        .catch((error: any) => {\r\n                            message.error(LOCALIZATION.DELETE_ERROR.replace('{{error}}', `${extractErrorMessage(error)}`));\r\n                        });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const onDownloadHandler = () => {\r\n        props.commandEvent(CommandEvent.download);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.commandsContainer}>\r\n            <div className={classes.leftPanel}>\r\n                <span>Switch Mode:</span>\r\n                <Switch checkedChildren=\"code\" unCheckedChildren=\"tree\" checked={mode === 'code'} onChange={onModeSwitch} />\r\n            </div>\r\n            <div className={classes.titlePanel}>\r\n                <span className={classes.titleText}>{title}</span>\r\n            </div>\r\n            <div className={classes.rightPanel}>\r\n                {props.selectedJsonConfigId && <CommandItem className={classes.btn} icon={\"save\"} onClick={onUpdateHandler}>Save</CommandItem>}\r\n                <CommandItem className={classes.btn} icon={\"upload\"} onClick={onSaveHandler}>Save As New</CommandItem>\r\n                <CommandItem className={classes.btn} icon={\"download\"} onClick={onDownloadHandler}>Download</CommandItem>\r\n                {props.selectedJsonConfigId && <CommandItem className={classes.btn} icon={\"delete\"} onClick={onDeleteHandler}>Delete</CommandItem>}\r\n            </div>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport classes from './ConfigSelector.module.scss';\r\nimport List from 'antd/es/list';\r\n\r\nexport const ConfigSelector: React.FC<{\r\n    onJsonConfigSelect: (jsonConfigId: number) => void,\r\n    jsonConfigMap: Map<number, unknown> | null,\r\n    selectedJsonConfigId: number | null\r\n}> = (props) => {\r\n\r\n    const jsonConfigs: { id: number, name: string }[] = [];\r\n\r\n    props.jsonConfigMap?.forEach((element: any) => {\r\n        jsonConfigs.push({\r\n            id: element.id,\r\n            name: element.data?.header?.name\r\n        });\r\n\r\n    });\r\n\r\n    if (jsonConfigs.length) {\r\n        return (\r\n            <List\r\n                bordered\r\n                dataSource={jsonConfigs}\r\n                renderItem={item => (\r\n                    <List.Item className={`${classes.jsonConfigItem} ` + (item.id === props.selectedJsonConfigId ? classes.selected : \"\")} onClick={() => props.onJsonConfigSelect(item.id)} key={item.id}>\r\n                        {item.name}\r\n                    </List.Item>\r\n                )}\r\n            />\r\n        );\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport classes from './SideNavPanel.module.scss';\r\nimport logo from \"../../../assets/cognite.png\";\r\nimport { ConfigSelector } from '../../components/ConfigSelector/ConfigSelector';\r\nimport Divider from \"antd/es/divider\";\r\nimport Text from \"antd/es/typography/Text\";\r\nimport { CommandItem } from '../../components/CommandItem/CommandItem';\r\nimport { CommandEvent } from '../../util/Interfaces/CommandEvent';\r\n\r\nexport const SideNavPanel: React.FC<{\r\n    onJsonConfigSelect: (jsonConfigId: number) => void,\r\n    commandEvent: (commandEvent: CommandEvent, ...args: any[]) => void,\r\n    jsonConfigMap: Map<number, unknown> | null,\r\n    selectedJsonConfigId: number | null\r\n}> = (props: any) => {\r\n\r\n    const onCreateNew = () => {\r\n        props.commandEvent(CommandEvent.createNew);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classes.top}>\r\n                <div>\r\n                    <img alt=\"cognite-logo\" src={logo} className={classes.logo} />\r\n                </div>\r\n                <Text strong className={classes.title}>Cognite Remote Configurator</Text>\r\n            </div>\r\n            <Divider />\r\n            <div className={classes.createNewBtn}>\r\n                <CommandItem className={classes.btn} icon={\"plus\"} onClick={onCreateNew}>Create New</CommandItem>\r\n            </div>\r\n            <div>\r\n                <Text strong>Configurations</Text>\r\n                <div className={classes.jsonConfigContainer}>\r\n                    <ConfigSelector onJsonConfigSelect={props.onJsonConfigSelect} jsonConfigMap={props.jsonConfigMap} selectedJsonConfigId={props.selectedJsonConfigId} />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useRef } from \"react\";\r\nimport \"./JsonEditorContainer.scss\";\r\nimport { JsonConfigCommandCenter } from \"../../../core/JsonConfigCommandCenter\";\r\n\r\nexport function JsonEditorContainer(props: { json: any }): JSX.Element {\r\n    const jsonEditorElm = useRef<HTMLDivElement | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (jsonEditorElm.current !== null) {\r\n            // create the editor\r\n            JsonConfigCommandCenter.createEditor(jsonEditorElm.current);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const editor = JsonConfigCommandCenter.editor;\r\n        if (editor) {\r\n            editor.set(props.json);\r\n            JsonConfigCommandCenter.updateTitle();\r\n        }\r\n    }, [props.json]);\r\n\r\n\r\n    return (<div className=\"json-editor-container\" ref={jsonEditorElm} />);\r\n}\r\n","import React from 'react';\r\nimport classes from './EditorPanel.module.scss'\r\nimport { JsonEditorContainer } from \"../../components/JsonEditorContainer/JsonEditorContainer\";\r\nimport { JsonConfig } from \"../../util/types\";\r\n\r\nexport const EditorPanel: React.FC<{ jsonConfig: JsonConfig | null }> = (props: any) => {\r\n\r\n    return (\r\n        <div className={classes.jsonView}>\r\n            <JsonEditorContainer json={props.jsonConfig?.data} />\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport classes from './JsonConfigurator.module.scss'\r\nimport { JsonConfig } from \"../../util/types\";\r\nimport { CommandEvent } from \"../../util/Interfaces/CommandEvent\";\r\nimport { JsonConfigCommandCenter } from \"../../../core/JsonConfigCommandCenter\";\r\nimport { CommandPanel } from \"../CommandPanel/CommandPanel\";\r\nimport { SideNavPanel } from '../SideNavPanel/SideNavPanel';\r\nimport { EditorPanel } from '../EditorPanel/EditorPanel';\r\nimport message from 'antd/es/message';\r\nimport { LOCALIZATION } from '../../../constants';\r\n\r\nexport const extractErrorMessage = (error: string): string => {\r\n    const errorMsg = `${error}`.split(\" | \")[0].split(\": \")[1];\r\n    console.error(error);\r\n    return errorMsg;\r\n}\r\n\r\nexport const JsonConfigurator: React.FC<any> = () => {\r\n    const [jsonConfigMap, setJsonConfigMap] = useState<Map<number, unknown> | null>(null);\r\n    const [selectedJsonConfigId, setSelectedJsonConfigId] = useState<number | null>(null);\r\n    const [jsonConfig, setJsonConfig] = useState<JsonConfig | null>(null);\r\n\r\n    const loadJsonConfigs = () => {\r\n        JsonConfigCommandCenter.loadJsonConfigs()\r\n            .then(response => {\r\n                setJsonConfigMap(response);\r\n            })\r\n            .catch(error => {\r\n                message.error(LOCALIZATION.RETRIEVE_CONFIGS_FAIL.replace('{{error}}', `${extractErrorMessage(error)}`));\r\n            });\r\n    }\r\n\r\n    // call with undefind values to create new json config\r\n    const onJsonConfigSelect = (jsonConfigId: number | null) => {\r\n        if (jsonConfigId) {\r\n            if (jsonConfigMap && jsonConfigMap.size > 0) {\r\n                const jsonConfig = jsonConfigMap.get(jsonConfigId);\r\n                if (jsonConfig) {\r\n                    setJsonConfig(jsonConfig as JsonConfig);\r\n                }\r\n            }\r\n            setSelectedJsonConfigId(jsonConfigId);\r\n        }\r\n        else {\r\n            setJsonConfig({\r\n                data: {}\r\n            } as JsonConfig);\r\n            setSelectedJsonConfigId(null);\r\n        }\r\n    }\r\n\r\n    const reloadJsonConfigs = (jsonConfigId: number | null) => {\r\n        loadJsonConfigs();\r\n        onJsonConfigSelect(jsonConfigId);\r\n    }\r\n\r\n    const onCommand = async (command: CommandEvent, ...args: any[]): Promise<any> => {\r\n        switch (command) {\r\n            case CommandEvent.mode: {\r\n                JsonConfigCommandCenter.onModeChange(args[0]);\r\n                break;\r\n            }\r\n            case CommandEvent.createNew: {\r\n                onJsonConfigSelect(args[0]);\r\n                break;\r\n            }\r\n            case CommandEvent.saveAs: {\r\n                return await JsonConfigCommandCenter.onSaveAs();\r\n            }\r\n            case CommandEvent.update: {\r\n                return await JsonConfigCommandCenter.onUpdate(selectedJsonConfigId);\r\n            }\r\n            case CommandEvent.delete: {\r\n                return await JsonConfigCommandCenter.onDelete(selectedJsonConfigId);\r\n            }\r\n            case CommandEvent.download: {\r\n                JsonConfigCommandCenter.onDownload();\r\n                break;\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadJsonConfigs();\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.configurator}>\r\n            <div className={classes.sideNavPanel}>\r\n                <SideNavPanel\r\n                    onJsonConfigSelect={onJsonConfigSelect}\r\n                    commandEvent={onCommand}\r\n                    jsonConfigMap={jsonConfigMap}\r\n                    selectedJsonConfigId={selectedJsonConfigId} />\r\n            </div>\r\n            <div className={classes.fullEditor}>\r\n                <div className={classes.editorCommandContainer}>\r\n                    <CommandPanel\r\n                        commandEvent={onCommand}\r\n                        reloadJsonConfigs={reloadJsonConfigs}\r\n                        selectedJsonConfigId={selectedJsonConfigId}\r\n                    />\r\n                    <EditorPanel jsonConfig={jsonConfig} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, {useEffect} from \"react\";\r\nimport { CogniteClient, isLoginPopupWindow, loginPopupHandler, POPUP } from \"@cognite/sdk\";\r\nimport { ClientSDKProvider, PureObject, TenantSelector } from \"@cognite/gearbox\";\r\nimport styles from \"./TenantLogin.module.scss\";\r\nimport {APP_NAME, DEV_MODE, LOGIN_CDF_ENVIRONMENT_OPT_TEXT, LOGIN_HEADER} from \"../../../constants\";\r\nimport {Client} from \"../../../cdf/client\";\r\n\r\nexport function TenantLogin(props: {\r\n    children: any\r\n    sdk: CogniteClient,\r\n    signedIn: boolean,\r\n    onLogin: (...status: any) => void,\r\n    authOptions: { project?: string, apiKey?: string, oauthToken?: string }\r\n}): JSX.Element | null {\r\n\r\n    const { project, apiKey, oauthToken } = props.authOptions;\r\n    const advancedOptions = { cdfEnvironment: ''};\r\n\r\n\r\n    useEffect(() => {\r\n        if (DEV_MODE) {\r\n            Client.sdk.loginWithOAuth({\r\n                project: process.env.REACT_APP_PROJECT || '',\r\n                accessToken: localStorage.getItem('token') || '',\r\n                onAuthenticate: (login: any) => {\r\n                    login.skip();\r\n                },\r\n                onTokens: ({accessToken}) => {\r\n                    localStorage.setItem(\"token\", accessToken);\r\n                },\r\n            });\r\n            Client.sdk.authenticate();\r\n            props.onLogin(true);\r\n        }\r\n    }, []);\r\n\r\n    if (isLoginPopupWindow()) {\r\n        loginPopupHandler();\r\n        return null;\r\n    }\r\n\r\n    const oninvalidTenant = (value: any) => {\r\n        console.error(\"Tenant Error\", value);\r\n    };\r\n\r\n    const onFinish = async (project: string, options: PureObject | null) => {\r\n        if(project){\r\n            const cdfEnv = options && options[LOGIN_CDF_ENVIRONMENT_OPT_TEXT];\r\n            if(cdfEnv) {\r\n                props.sdk.setBaseUrl(`https://${cdfEnv}.cognitedata.com`);\r\n            }\r\n            const token = localStorage.getItem(\"token\") || \"\";\r\n            props.sdk.loginWithOAuth({\r\n                project: project,\r\n                accessToken: token,\r\n                onAuthenticate: POPUP,\r\n                onTokens: ({accessToken}) => {\r\n                    localStorage.setItem(\"token\", accessToken);\r\n                },\r\n            });\r\n            await props.sdk.authenticate();\r\n\r\n            const status = await props.sdk.login.status();\r\n            if(status?.user){\r\n                props.onLogin(true);\r\n            }\r\n        }\r\n        console.log('Success:', project);\r\n        return true;\r\n    };\r\n\r\n    if (props.signedIn) {\r\n        return <>{props.children}</>;\r\n    } else {\r\n        // return <CustomLogin sdk={props.sdk} onLogin={props.onLogin} />;\r\n        return (\r\n            <div className={styles.loginContainer}>\r\n                <ClientSDKProvider client={props.sdk}>\r\n                    <TenantSelector\r\n                        title={APP_NAME}\r\n                        header={LOGIN_HEADER}\r\n                        onTenantSelected={onFinish}\r\n                        advancedOptions={advancedOptions}\r\n                        onInvalidTenant={oninvalidTenant}/>\r\n                </ClientSDKProvider>\r\n            </div>);\r\n    }\r\n}\r\n","import React, { useState } from 'react';\r\nimport './App.scss';\r\nimport { JsonConfigurator } from './panels/JsonConfigurator/JsonConfigurator';\r\nimport { Client } from \"../cdf/client\";\r\nimport { TenantLogin } from \"./components/TenantLogin/TenantLogin\";\r\n\r\nconst cogniteClient = Client.sdk;\r\n\r\nfunction App(props: { auth?: { project?: string, apiKey?: string, oauthToken?: string}}): JSX.Element {\r\n    const authOptions = props.auth || {};\r\n    const [signedIn, setSignIn] = useState(false);\r\n    const onSignIn = (status: boolean) => {\r\n        if(status) {\r\n            setSignIn(true);\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n        <TenantLogin signedIn={signedIn} onLogin={onSignIn} sdk={cogniteClient} authOptions={authOptions}>\r\n            <JsonConfigurator />\r\n        </TenantLogin>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);  \r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n}\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './userInterface/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}